@startuml Caso de Uso - Registrar Meta de Investimento
!theme plain
skinparam dpi 300
skinparam actorStyle awesome
skinparam packageStyle rectangle
skinparam backgroundColor white
skinparam defaultTextAlignment center
left to right direction

title Diagrama de Caso de Uso - Registrar Meta de Investimento

actor "Investidor" as Investor

package "Sistema de Registro de Metas" {
    usecase "Registrar Meta de Investimento" as UC1
    usecase "Validar Dados de Entrada" as UC2
    usecase "Criar Nova Meta" as UC3
    usecase "Persistir Meta" as UC4
    usecase "Confirmar Registro" as UC5
}

package "Validações" {
    usecase "Validar Investidor" as V1
    usecase "Validar Nome da Meta" as V2
    usecase "Validar Valor Alvo" as V3
    usecase "Validar Data Alvo" as V4
    usecase "Validar Prioridade" as V5
}

package "Criação" {
    usecase "Gerar ID Único" as C1
    usecase "Formatar Valor Monetário" as C2
    usecase "Criar Entidade Goal" as C3
    usecase "Definir Status Ativo" as C4
}

package "Repositório" {
    usecase "Criar Meta" as R1
}

Investor --> UC1 : solicita registro

UC1 ..> UC2 : <<include>>
UC1 ..> UC3 : <<include>>
UC1 ..> UC4 : <<include>>
UC1 ..> UC5 : <<include>>

UC2 ..> V1 : <<include>>
UC2 ..> V2 : <<include>>
UC2 ..> V3 : <<include>>
UC2 ..> V4 : <<include>>
UC2 ..> V5 : <<include>>

UC3 ..> C1 : <<include>>
UC3 ..> C2 : <<include>>
UC3 ..> C3 : <<include>>
UC3 ..> C4 : <<include>>

UC4 --> R1 : persiste

note right of V5
  Prioridades válidas:
  - High (Alta)
  - Medium (Média)
  - Low (Baixa)
end note

note bottom of UC1
  **Pré-condições:**
  - Investidor autenticado
  - Dados obrigatórios fornecidos
  - Valor alvo positivo
  - Data futura válida
  
  **Pós-condições:**
  - Meta criada no sistema
  - ID único gerado
  - Status ativo por padrão
  - Meta persistida no repositório
end note

note left of C2
  Formata o valor alvo
  usando a classe Money
  com moeda padrão
end note

note right of UC5
  Retorna a nova meta
  criada com todos os
  dados persistidos
end note

@enduml